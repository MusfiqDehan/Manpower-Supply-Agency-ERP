  {% if account_opening_value  %}
        <div class="d-flex" >
        <div id="payment-button">
            <button type="button" class="btn paymentButton btn-warning" style="margin-right: 15px;"
        data-url="{% url 'passenger_app:payment' passenger_id %} "><i class="fa fa-add"></i>
            Payment 
        </button>

        </div>


        <div id="receive-button">
            <button  type="button" class="btn receieveButton btn-success" 
        data-url="{% url 'passenger_app:receive' passenger_id %} "><i class="fa fa-add"></i>
            Receive
        </button>

        </div>


        </div>

            
        {% else %}
        <div id="account-create">
            <button type="button" class="btn accountCreateButton btn-primary" 
        data-url="{% url 'passenger_app:account_create' passenger_id %} "><i class="fa fa-add"></i>
            Add Account
        </button>

        </div>

        {% endif  %}


<!---for account create, receive , payment ammount calculation-->

<!-- Ajax modal for dynamic content -->
  <div class="modal fade" id="AccountModal" tabindex="-1" aria-labelledby="AccountLabel" aria-hidden="true">
    <div class="modal-dialog">
      <div class="modal-content"></div>
    </div>
  </div>

<!------accounts-->
   <script>
    $(function () {
      /* load form */
      console.log("load form")
      var loadForm = function () {
        var edit = document.getElementById("AccountModal");
        var url;
        url = $(this).attr("data-url");

        $.ajax({
          url: url,
          type: "get",
          dataType: "json",

          beforeSend: function () {
            $(edit).modal("show");
          },

          success: function (data) {
            $("#AccountModal .modal-content").html(data.html_form);
            console.log("Success !");
          },
        });
      };

      /* Save Form */
      var saveForm = function () {
        var edit = document.getElementById("AccountModal");
        var form = $(this);

        


        $.ajax({
          url: form.attr("action"),
          data: form.serialize(),
          type: form.attr("method"),
          dataType: "json",

         

          beforeSend: function () {
            $("#loading").html(
              '<div class="text-center"><div class="spinner-border spinner-border-sm" role="status"><span class="visually-hidden">Loading...</span></div></div>'
            );
          },

          success: function (data) {
            if (data.form_is_valid) {
              $("#account-table tbody").html(data.html_account_list);
              $("#opening-bal-date").html(data.html_opening_bal_date);
              $("#opening-balance").html(data.html_opening_balance );
               $("#account-all-button").html(data.html_account_button );
              
              $(edit).modal("hide");
            } else {
              $("#AccountModal .modal-content").html(data.html_form);
            }
          },
        });
        return false;
      };

      // create account
      $("#account-create").on("click", ".accountCreateButton", loadForm);
      $("#AccountModal").on("submit", ".accountCreateForm", saveForm);

      // receive 
      $("#receive-button").on("click", ".receieveButton", loadForm);
      $("#AccountModal").on("submit", ".receiveForm", saveForm);

       // payment
      $("#payment-button").on("click", ".paymentButton", loadForm);
      $("#AccountModal").on("submit", ".paymentForm", saveForm);


     
      

      
    });
  </script>
